<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; connect-src 'self' ws://localhost:8765 http://localhost:8766"
    />
    <title>Live Hints - –ù–∞—Å—Ç—Ä–æ–π–∫–∞</title>
    <link rel="stylesheet" href="onboarding.css" />
  </head>
  <body>
    <div id="onboarding-app">
      <!-- Header -->
      <header class="onboarding-header">
        <div class="header-drag-region"></div>
        <div class="logo">
          <span class="logo-icon">üí°</span>
          <span class="logo-text">Live Hints</span>
        </div>
        <div class="window-controls">
          <button id="btn-minimize" class="window-btn" title="–°–≤–µ—Ä–Ω—É—Ç—å">‚îÄ</button>
          <button id="btn-close" class="window-btn window-btn-close" title="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        </div>
      </header>

      <!-- Progress Indicator -->
      <div class="progress-container">
        <div class="progress-steps">
          <div class="progress-step active" data-step="1">
            <div class="step-circle">1</div>
            <span class="step-label">–Ø–∑—ã–∫</span>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="2">
            <div class="step-circle">2</div>
            <span class="step-label">–ú–∏–∫—Ä–æ—Ñ–æ–Ω</span>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="3">
            <div class="step-circle">3</div>
            <span class="step-label">–≠–∫—Ä–∞–Ω</span>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="4">
            <div class="step-circle">4</div>
            <span class="step-label">–ö–æ–Ω—Ç–µ–∫—Å—Ç</span>
          </div>
        </div>
      </div>

      <!-- Step Content Container -->
      <main class="step-container">
        <!-- Step 1: Language Selection -->
        <div class="step-content active" data-step="1">
          <div class="step-icon">üåê</div>
          <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ AI-–æ—Ç–≤–µ—Ç–æ–≤</h2>
          <p class="step-description">–ù–∞ –∫–∞–∫–æ–º —è–∑—ã–∫–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ—Ç AI?</p>

          <div class="form-group">
            <select id="language-select" class="form-select">
              <option value="ru" selected>–†—É—Å—Å–∫–∏–π</option>
              <option value="en">English</option>
              <option value="de">Deutsch</option>
              <option value="fr">Fran√ßais</option>
              <option value="es">Espa√±ol</option>
              <option value="zh">‰∏≠Êñá</option>
              <option value="ja">Êó•Êú¨Ë™û</option>
              <option value="ko">ÌïúÍµ≠Ïñ¥</option>
            </select>
          </div>

          <div class="language-preview">
            <div class="preview-label">–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:</div>
            <div id="language-preview-text" class="preview-text">
              "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ" ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—Ä–∞—Ç–∫–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π –æ–ø—ã—Ç –∏ –Ω–∞–≤—ã–∫–∏,
              —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏...
            </div>
          </div>
        </div>

        <!-- Step 2: Microphone Access -->
        <div class="step-content" data-step="2">
          <div class="step-icon">üé§</div>
          <h2 class="step-title">–î–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É</h2>
          <p class="step-description">–î–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É</p>

          <div class="permission-card" id="mic-permission-card">
            <div class="permission-status" id="mic-status">
              <span class="status-icon pending">‚óã</span>
              <span class="status-text">–û–∂–∏–¥–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</span>
            </div>
            <button id="btn-request-mic" class="btn-permission">
              <span class="btn-icon">üé§</span>
              –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É
            </button>
          </div>

          <div class="device-selection hidden" id="mic-device-selection">
            <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω:</label>
            <select id="mic-select" class="form-select">
              <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤...</option>
            </select>
            <div class="vu-meter-container">
              <div class="vu-meter" id="mic-vu-meter">
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
                <div class="vu-bar"></div>
              </div>
              <span class="vu-label">–£—Ä–æ–≤–µ–Ω—å —Å–∏–≥–Ω–∞–ª–∞</span>
            </div>
          </div>
        </div>

        <!-- Step 3: Screen Capture Access -->
        <div class="step-content" data-step="3">
          <div class="step-icon">üñ•Ô∏è</div>
          <h2 class="step-title">–î–æ—Å—Ç—É–ø –∫ –∑–∞—Ö–≤–∞—Ç—É —ç–∫—Ä–∞–Ω–∞</h2>
          <p class="step-description">–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–¥–∞—á —Å —ç–∫—Ä–∞–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–æ—Å—Ç—É–ø –∫ –∑–∞—Ö–≤–∞—Ç—É</p>

          <div class="permission-card" id="screen-permission-card">
            <div class="permission-status" id="screen-status">
              <span class="status-icon pending">‚óã</span>
              <span class="status-text">–û–∂–∏–¥–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</span>
            </div>
            <button id="btn-request-screen" class="btn-permission">
              <span class="btn-icon">üñ•Ô∏è</span>
              –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç–∫—Ä–∞–Ω—É
            </button>
          </div>

          <div class="monitor-selection hidden" id="monitor-selection">
            <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä:</label>
            <div class="monitor-grid" id="monitor-grid">
              <!-- Monitors will be populated dynamically -->
            </div>
          </div>
        </div>

        <!-- Step 4: Context File (Optional) -->
        <div class="step-content" data-step="4">
          <div class="step-icon">üìÑ</div>
          <h2 class="step-title">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</h2>
          <p class="step-description">
            –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–∑—é–º–µ –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
          </p>

          <div class="file-upload-area" id="file-upload-area">
            <div class="upload-icon">üìÅ</div>
            <p class="upload-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
            <p class="upload-formats">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PDF, TXT</p>
            <input type="file" id="context-file-input" accept=".pdf,.txt" hidden />
          </div>

          <div class="file-info hidden" id="file-info">
            <div class="file-icon">üìÑ</div>
            <div class="file-details">
              <span class="file-name" id="file-name">document.pdf</span>
              <span class="file-size" id="file-size">1.2 MB</span>
            </div>
            <button id="btn-remove-file" class="btn-remove-file" title="–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª">‚úï</button>
          </div>

          <p class="optional-note">–≠—Ç–æ—Ç —à–∞–≥ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –ø–æ–∑–∂–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö</p>
        </div>
      </main>

      <!-- Navigation Footer -->
      <footer class="onboarding-footer">
        <button id="btn-back" class="btn-nav btn-back hidden">
          <span class="btn-arrow">‚Üê</span> –ù–∞–∑–∞–¥
        </button>

        <div class="step-indicator">
          <span id="current-step">1</span> –∏–∑ <span id="total-steps">4</span>
        </div>

        <div class="footer-actions">
          <button id="btn-skip" class="btn-nav btn-skip hidden">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
          <button id="btn-next" class="btn-nav btn-next">
            –î–∞–ª–µ–µ <span class="btn-arrow">‚Üí</span>
          </button>
          <button id="btn-finish" class="btn-nav btn-finish hidden">–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É</button>
        </div>
      </footer>
    </div>

    <script src="onboarding.js"></script>
  </body>
</html>
